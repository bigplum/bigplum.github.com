--- 
wordpress_id: 246
layout: post
title: !binary |
  5Y2B5YiG6ZKf5byA5Y+R5LiA5LiqZmlyZWZveOaPkuS7tu+8iOS4gO+8iQ==

excerpt: !binary |
  6aaW5YWI5a6J6KOF5LiA5Liq5omp5bGV5byA5Y+R5bel5YW377yIPGEgaHJl
  Zj0iaHR0cDovL3RlZC5taWVsY3phcmVrLm9yZy9jb2RlL21vemlsbGEvZXh0
  ZW5zaW9uZGV2L2V4dGVuc2lvbmRldi54cGkiPuWFiOWPs+WHu+WPpuWtmDwv
  YT7vvInvvIzlpoLmnpznm7TmjqXlronoo4XkvJrmj5DnpLrigJwiRXh0ZW5z
  aW9uIERldmVsb3BlciIg5bCG5LiN5Lya6KKr5a6J6KOF77yM5Zug5Li65a6D
  5pyq5o+Q5L6b5a6J5YWo5pu05paw4oCd77yM6ZyA6KaB5L+u5pS55LiA5LiL
  44CCDQpbY2FwdGlvbiBpZD0iYXR0YWNobWVudF8yNDciIGFsaWduPSJhbGln
  bm5vbmUiIHdpZHRoPSIzMDAiIGNhcHRpb249ImV4dGVudGlvbiBkZXYiXTxh
  IGhyZWY9Imh0dHA6Ly9ibG9nLjU5dHJpcC5jb20vd3AtY29udGVudC91cGxv
  YWRzLzIwMDkvMDcvZXh0ZGV2LlBORyI+PGltZyBzcmM9Imh0dHA6Ly9ibG9n
  LjU5dHJpcC5jb20vd3AtY29udGVudC91cGxvYWRzLzIwMDkvMDcvZXh0ZGV2
  LTMwMHg5Ny5QTkciIGFsdD0iZXh0ZW50aW9uIGRldiIgdGl0bGU9ImV4dGRl
  diIgd2lkdGg9IjMwMCIgaGVpZ2h0PSI5NyIgY2xhc3M9InNpemUtbWVkaXVt
  IHdwLWltYWdlLTI0NyIgLz48L2E+Wy9jYXB0aW9uXQ0KDQpmaXJlZm945omp
  5bGV5omT5YyF5paH5Lu255qE5omp5bGV5ZCN5Li6eHBp77yM5YW25a6e5piv
  5Liqemlw5YyF77yM5bCG5omp5bGV5ZCN5pS55Li6emlw77yM6Kej5Y6L44CC
  5L+u5pS5aW5zdGFsbC5yZGbvvIzliKDpmaTkuIvpnaLov5nooYzvvJoNCiAg
  ICA8ZW06dXBkYXRlVVJMPmh0dHA6Ly90ZWQubWllbGN6YXJlay5vcmcvY29k
  ZS9tb3ppbGxhL2V4dGVuc2lvbmRldi9leHRlbnNpb25kZXYucmRmPC9lbTp1
  cGRhdGVVUkw+DQrkv53lrZjvvIzph43mlrDljovnvKnmiJBleHRlbnNpb25k
  ZXYuemlw77yM5pS55Li6ZXh0ZW5zaW9uZGV2Lnhwae+8jOWwhuaWh+S7tuaL
  luWIsGZpcmVmb3jnmoTnqpflj6PkuK3vvIzlsLHlj6/ku6Xlronoo4XkuIrk
  uobjgIINCjxhIGhyZWY9Imh0dHA6Ly9ibG9nLjU5dHJpcC5jb20vd3AtY29u
  dGVudC91cGxvYWRzLzIwMDkvMDcvaW50ZXh0ZGV2LlBORyI+PGltZyBzcmM9
  Imh0dHA6Ly9ibG9nLjU5dHJpcC5jb20vd3AtY29udGVudC91cGxvYWRzLzIw
  MDkvMDcvaW50ZXh0ZGV2LTMwMHgxMjguUE5HIiBhbHQ9ImludGV4dGRldiIg
  dGl0bGU9ImludGV4dGRldiIgd2lkdGg9IjMwMCIgaGVpZ2h0PSIxMjgiIGNs
  YXNzPSJhbGlnbm5vbmUgc2l6ZS1tZWRpdW0gd3AtaW1hZ2UtMjUwIiAvPjwv
  YT4NCuWmguaenOaPkOekuuKAnOWuieijheiEmuacrOacquaJvuWIsCAtMjA0
  4oCd77yM5pyJ5Y+v6IO95pivemlw5YyF55qE5Y6L57yp5qC85byP5LiN5a+5
  77yM5Y+v5Lul55u05o6l5L+u5pS5emlw5YyF77yM6ICM5LiN5piv6Kej5Y6L
  5ZCO5YaN5Y6L57yp44CC

date: 2009-07-06 23:56:38 +08:00
wordpress_url: http://blog.59trip.com/?p=246
---
首先安装一个扩展开发工具（<a href="http://ted.mielczarek.org/code/mozilla/extensiondev/extensiondev.xpi">先右击另存</a>），如果直接安装会提示“"Extension Developer" 将不会被安装，因为它未提供安全更新”，需要修改一下。
[caption id="attachment_247" align="alignnone" width="300" caption="extention dev"]<a href="http://pipablog.tk/wp-content/uploads/2009/07/extdev.PNG"><img src="http://pipablog.tk/wp-content/uploads/2009/07/extdev-300x97.PNG" alt="extention dev" title="extdev" width="300" height="97" class="size-medium wp-image-247" /></a>[/caption]

firefox扩展打包文件的扩展名为xpi，其实是个zip包，将扩展名改为zip，解压。修改install.rdf，删除下面这行：
    <em:updateURL>http://ted.mielczarek.org/code/mozilla/extensiondev/extensiondev.rdf</em:updateURL>
保存，重新压缩成extensiondev.zip，改为extensiondev.xpi，将文件拖到firefox的窗口中，就可以安装上了。
<a href="http://pipablog.tk/wp-content/uploads/2009/07/intextdev.PNG"><img src="http://pipablog.tk/wp-content/uploads/2009/07/intextdev-300x128.PNG" alt="intextdev" title="intextdev" width="300" height="128" class="alignnone size-medium wp-image-250" /></a>
如果提示“安装脚本未找到 -204”，有可能是zip包的压缩格式不对，可以直接修改zip包，而不是解压后再压缩。
<!--more-->
extentiondev提供了很多个实用的工具，其中xul编辑器将使调试firefox扩展变得很容易。
<a href="http://pipablog.tk/wp-content/uploads/2009/07/extdevtool.PNG"><img src="http://pipablog.tk/wp-content/uploads/2009/07/extdevtool.PNG" alt="extdevtool" title="extdevtool" width="234" height="215" class="alignnone size-full wp-image-254" /></a>

下面进入正题，Extension Developer's Extension的作者还开发了一个<a href="http://ted.mielczarek.org/code/mozilla/extensionwiz/">Firefox/Thunderbird Extension Wizard</a>，通过这个向导，可以迅速生成firefo/thunderbird扩展，
<a href="http://pipablog.tk/wp-content/uploads/2009/07/extwiz.PNG"><img src="http://pipablog.tk/wp-content/uploads/2009/07/extwiz-300x256.PNG" alt="extwiz" title="extwiz" width="300" height="256" class="alignnone size-medium wp-image-255" /></a>

在下面几个必填项中填写扩展的基本信息：
Your Name:	
Extension Name:	
Extension Short Name:	
Extension ID:	
Version:
根据需要选择扩展使用的控件：
Create options dialog and preferences     <font color=blue>//生成“选项”对话框</font>
Create context menu item                     <font color=blue>//生成工具菜单下的菜单项</font>
Create toolbar button                           <font color=blue>//生成工具栏按钮</font>
Use Icon	Icon File:                             <font color=blue>//定制图标</font>
Create custom about box                     <font color=blue>//生成“关于”对话框</font>

最后点击create Extention，就可以把扩展下载到本地了。

这个扩展只是一个空壳，提供了基本的按钮，菜单项等功能，如果要完成复杂的功能，还需要进一步进行修改。
